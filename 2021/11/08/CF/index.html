<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/%E5%A5%B6%E8%8C%B6.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/%E5%A5%B6%E8%8C%B6.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"m0nesyol.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.7.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="“Cross Fire!”">
<meta property="og:type" content="article">
<meta property="og:title" content="CodeForces">
<meta property="og:url" content="https://m0nesyol.github.io/2021/11/08/CF/index.html">
<meta property="og:site_name" content="Monesy&#39;blog">
<meta property="og:description" content="“Cross Fire!”">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-11-08T09:10:45.000Z">
<meta property="article:modified_time" content="2022-03-24T06:54:21.000Z">
<meta property="article:author" content="Monesy">
<meta property="article:tag" content="thinking">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://m0nesyol.github.io/2021/11/08/CF/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://m0nesyol.github.io/2021/11/08/CF/","path":"2021/11/08/CF/","title":"CodeForces"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>CodeForces | Monesy'blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Monesy'blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-albums"><a href="/albums/" rel="section"><i class="fa fa-camera fa-fw"></i>相册</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#751"><span class="nav-number">1.</span> <span class="nav-text">751</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#751-B%EF%BC%88div1%EF%BC%89-BFS"><span class="nav-number">1.1.</span> <span class="nav-text">751-B（div1）- BFS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#751-div2-C"><span class="nav-number">1.2.</span> <span class="nav-text">751-div2-C</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#750"><span class="nav-number">2.</span> <span class="nav-text">750</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#750-div2-A-%E8%BF%9E%E7%BB%AD%E5%92%8C"><span class="nav-number">2.1.</span> <span class="nav-text">750-div2-A(连续和)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#750-div2-E-dp"><span class="nav-number">2.2.</span> <span class="nav-text">750-div2-E(dp)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#750-div2-F%EF%BC%88dp%EF%BC%89"><span class="nav-number">2.3.</span> <span class="nav-text">750-div2-F（dp）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EDU-117"><span class="nav-number">3.</span> <span class="nav-text">EDU-117</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#div12-C-%E4%BA%8C%E5%88%86"><span class="nav-number">3.1.</span> <span class="nav-text">div12-C(二分)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#div-2-D-%E6%95%B0%E5%AD%A6-%E6%80%9D%E7%BB%B4"><span class="nav-number">3.2.</span> <span class="nav-text">div-2-D(数学+思维)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#div2-D-%E4%BA%A4%E4%BA%92-%E6%80%9D%E7%BB%B4"><span class="nav-number">3.3.</span> <span class="nav-text">div2-D(交互+思维)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EDU-116"><span class="nav-number">4.</span> <span class="nav-text">EDU-116</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#EDU-116-div2-E-dp-%E6%80%9D%E7%BB%B4"><span class="nav-number">4.1.</span> <span class="nav-text">EDU-116-div2-E(dp+思维)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EDU-111-div2-C"><span class="nav-number">4.2.</span> <span class="nav-text">EDU-111-div2-C</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CF-1598-D-%E6%80%9D%E7%BB%B4"><span class="nav-number">4.3.</span> <span class="nav-text">CF-1598-D(思维)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Edu-123-div2"><span class="nav-number">4.4.</span> <span class="nav-text">Edu-123(div2)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#C-Increase-Subarray-Sums"><span class="nav-number">4.4.1.</span> <span class="nav-text">C. Increase Subarray Sums</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#772-div2"><span class="nav-number">4.5.</span> <span class="nav-text">772-div2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#D-Infinite-Set"><span class="nav-number">4.5.1.</span> <span class="nav-text">D. Infinite Set</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Monesy"
      src="/images/avatar1.jpg">
  <p class="site-author-name" itemprop="name">Monesy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://m0nesyol.github.io/" title="GitHub → https:&#x2F;&#x2F;m0nesyol.github.io&#x2F;"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://m0nesyol.github.io/2021/11/08/CF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Monesy">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monesy'blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CodeForces
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-11-08 17:10:45" itemprop="dateCreated datePublished" datetime="2021-11-08T17:10:45+08:00">2021-11-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-03-24 14:54:21" itemprop="dateModified" datetime="2022-03-24T14:54:21+08:00">2022-03-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/thinking/" itemprop="url" rel="index"><span itemprop="name">thinking</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>18k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>33 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <blockquote>
<center><font size="4">“Cross Fire!”</font></center>
</blockquote>
<span id="more"></span>
<h1 id="751"><a href="#751" class="headerlink" title="751"></a>751</h1><h2 id="751-B（div1）-BFS"><a href="#751-B（div1）-BFS" class="headerlink" title="751-B（div1）- BFS"></a>751-B（div1）- BFS</h2><p>题意：你是一只青蛙，现在你掉到了一个n米深的井里，当你位于深度为i的位置时，你可以往上跳$[0,a_i]$米中的任意一个整数距离，如果你没有跳出去，那么你需要休息，假设你在深度为j的位置处休息，你就会往下掉$b_j$米，现在请问，最少多少步能跳出去，并且输出跳出去的方案。</p>
<ul>
<li><strong>思路</strong>： 从起始点起跳可以调到的范围为[n-$a_n$，n],而到这一层的跳跃次数均为1，因此可以用BFS的做法一层一层进行遍历，但是到达的每一个点又都会有一个跳跃范围，如果对每一个点都进行一次其下层的遍历，那么时间复杂度是过不去的，因此可以对跳跃过程进行剪枝。</li>
<li><strong>剪枝</strong>：如果本次跳跃的最远距离在上一层或同一层能够跳到的最远距离之内，那么这样一种方案就没必要去讨论了，因此跳跃次数不会有更优，顶多同等最优。因此只需要在每次跳跃之后记录最远能跳到的地点，如果本次跳跃最远跳到的地点没有超过最远点就没有必要进行跳跃了。</li>
<li><strong>细节</strong>：因为对于每次的跳跃范围都是基于跳跃点的，因此BFS队列中记录的是跳跃点的值，而题目要求输出的是下滑的地点而非跳跃点，因此可以记录最优的跳跃点的路径，而每一个跳跃点都有与其对应的下滑点，因此记录跳跃点的时候同时利用映射关系记录其下滑点即可，这样便可输出路径。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">2e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="keyword">int</span> a[N],b[N],c[N],n;</span><br><span class="line"><span class="keyword">int</span> pre[N],ans[N],path[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;	</span><br><span class="line">	<span class="keyword">int</span> minn=INF;</span><br><span class="line">	<span class="keyword">int</span> tmp,now;</span><br><span class="line">	queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">	<span class="built_in">memset</span>(ans,<span class="number">0x3f</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(ans));</span><br><span class="line">	<span class="built_in">memset</span>(path,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(path));</span><br><span class="line">	<span class="built_in">memset</span>(pre,<span class="number">-1</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(pre));</span><br><span class="line">	q.<span class="built_in">push</span>(n);</span><br><span class="line">	ans[n]=<span class="number">0</span>;</span><br><span class="line">	path[n]=n;</span><br><span class="line">	<span class="keyword">while</span>(q.<span class="built_in">size</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> t=q.<span class="built_in">front</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="keyword">if</span>(t==<span class="number">0</span>)  <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=t-a[t];i&lt;t;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(i&gt;=minn) <span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">if</span>(i&lt;=<span class="number">0</span>) tmp=<span class="number">0</span>,now=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> tmp=i,now=i+b[i];</span><br><span class="line">			<span class="keyword">if</span>(ans[now]&gt;ans[t]+<span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				ans[now]=ans[t]+<span class="number">1</span>;</span><br><span class="line">				pre[now]=t;</span><br><span class="line">				path[now]=tmp;</span><br><span class="line">				q.<span class="built_in">push</span>(now);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		minn=<span class="built_in">min</span>(minn,t-a[t]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(ans[<span class="number">0</span>]!=INF) <span class="keyword">return</span> ans[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;b[i];	</span><br><span class="line">	<span class="keyword">int</span> top=<span class="number">0</span>,x=<span class="number">0</span>;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">bfs</span>()&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">while</span>(pre[x]!=<span class="number">-1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		c[++top]=pre[x];</span><br><span class="line">		x=pre[x];</span><br><span class="line">		<span class="comment">//cout&lt;&lt;&quot;pre &quot;&lt;&lt;pre[x]&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//cout&lt;&lt;top&lt;&lt;endl;</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=top<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) cout&lt;&lt;path[c[i]]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="751-div2-C"><a href="#751-div2-C" class="headerlink" title="751-div2-C"></a>751-div2-C</h2><p>题意：给定一个长度为n的数列，从一开始标号，每次可以删除一个a[i] % (i + 1) 不等于0的数，问我们能否删完。</p>
<ul>
<li>思路：对于某个位置为i的数，其可能的位置可以为[1 - i]，前提是其前面的数都有可能被删除，那么判断一个数可不可以被删除也就是看其模[2 - i+1]其中是否存在一个数x能够使得a[i]%x!=0，那么该数也就可以被删除，反之如果不存在x那么该数不会被删除。从正面讨论其能不能被删除不好讨论，因为位置越靠后那么其需要讨论的情形越多，那么可以考虑不能被删除的情形，对于第i个数，如果其不能被删除那么也就是说它能除尽[2 - i+1]中的所有的数。那么也就是说它得是[2  - i + 1 ]中所有数的最小公倍数，这样才能满足除尽的条件，而显然当i=23时，其最小公倍数已然超过了1e^9（数据范围为），那么也就是说对于每一个数只要判断[2 - 23]能否全部整除它也就能知道该数是否能够被删除了。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">int</span> t,n;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">		cin&gt;&gt;n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> fin=<span class="number">0</span>;</span><br><span class="line">			cin&gt;&gt;a[i];</span><br><span class="line">			<span class="keyword">if</span>(flag) &#123;<span class="keyword">continue</span>;&#125;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>;j&lt;=<span class="built_in">min</span>(i+<span class="number">1</span>,<span class="number">23</span>);j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(a[i]%j!=<span class="number">0</span>) &#123;fin=<span class="number">1</span>;<span class="keyword">break</span>;&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(!fin) flag=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(flag) cout&lt;&lt;<span class="string">&quot;No\n&quot;</span> ;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;Yes\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="750"><a href="#750" class="headerlink" title="750"></a>750</h1><h2 id="750-div2-A-连续和"><a href="#750-div2-A-连续和" class="headerlink" title="750-div2-A(连续和)"></a>750-div2-A(连续和)</h2><p>题意：给定a个1，b个2，c个3，将其分成两堆，问二堆的差值的绝对值最大为多少？</p>
<ul>
<li>思路：毫无疑问，这些数能够构成的最大的数S为a+2 * b+3 * c，又（a,b,c&gt;=1）,因此可以证明的是这些数能够构成[0 - S]之中的任意一个数，那么也就是说，当S为偶数，那就构造S/2和S/2即可，答案为0；若为奇数，那么构造S/2和S/2+1即可，答案为1。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">int</span> a,b,c,t;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">		<span class="keyword">int</span> s=(a+<span class="number">2</span>*b+<span class="number">3</span>*c);</span><br><span class="line">		cout&lt;&lt;(s&amp;<span class="number">1</span>)&lt;&lt;endl;</span><br><span class="line">		<span class="comment">//--------------------下面是我的分奇偶讨论，这样对比显得我很呆</span></span><br><span class="line">		<span class="comment">// int flag_a=0,flag_b=0,flag_c=0;</span></span><br><span class="line">		<span class="comment">// cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span></span><br><span class="line">		<span class="comment">// if((a&amp;1)==1) flag_a=1;</span></span><br><span class="line">		<span class="comment">// if((b&amp;1)==1) flag_b=1;</span></span><br><span class="line">		<span class="comment">// if((c&amp;1)==1) flag_c=1;</span></span><br><span class="line">		<span class="comment">// if(flag_a&amp;&amp;flag_b&amp;&amp;flag_c)</span></span><br><span class="line">		<span class="comment">// &#123;</span></span><br><span class="line">		<span class="comment">// 	cout&lt;&lt;0&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// &#125;</span></span><br><span class="line">		<span class="comment">// else</span></span><br><span class="line">		<span class="comment">// &#123;</span></span><br><span class="line">		<span class="comment">// 	if(flag_a&amp;&amp;flag_c) cout&lt;&lt;0&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// 	else if(flag_b&amp;&amp;flag_c) cout&lt;&lt;1&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// 	else if(flag_a&amp;&amp;flag_b) cout&lt;&lt;1&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// 	else if(flag_a) cout&lt;&lt;1&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// 	else if(flag_b) cout&lt;&lt;0&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// 	else if(flag_c) cout&lt;&lt;1&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// 	else cout&lt;&lt;0&lt;&lt;endl;</span></span><br><span class="line">		<span class="comment">// &#125;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="750-div2-E-dp"><a href="#750-div2-E-dp" class="headerlink" title="750-div2-E(dp)"></a>750-div2-E(dp)</h2><p>题意：给定一个数列，求最大的k，使得存在k个首长度为n且长度依次减1但区间总和严格增加的区间。</p>
<ul>
<li>问题转换：给定k之后往后长度递减找区间的话不但k不好确定而且当取完前面的区间后也不好确定后面的长度是否够取到后面剩余的区间，因此可以考虑将数组翻转，然后从前往后找长度每次加1的区间，遍历完整个数列后能最多能推出多少个符合条件（总和依次减少）的区间便是答案k。</li>
<li>状态：dp[i][j]前i个元素中取到j个符合条件的区间且最后一个区间（区间能够取到的最大值）。因为当新加入一个区间时，需要判断该区间是否符合条件时需要知道前面最后一个区间的值是否大于它，那么为了使符合条件的区间最多，那么就势必需要使符合条件的区间能取到的区间和最大化，也就是dp[i][j]取最大值的原因。</li>
<li>转移dp[i][j]=max(dp[i-1][j],sum[i]-sum[i-j])，前者表示不取第i个元素，后者表示取第i个元素，但此处需要判断区间和（sum[i]-sum[i-j]）符合较上个区间和递减的条件，即sum[i]-sum[i-j]&lt;dp[i-j][j-1]。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line">ll dp[N][<span class="number">510</span>],a[N],sum[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">int</span> t,n;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">		cin&gt;&gt;n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">		<span class="built_in">reverse</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)<span class="comment">//用多少初始化多少，memset严重超时</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">500</span>;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				dp[i][j]=<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)<span class="comment">//1个区间的情况无论什么时候都符合，先赋予初值避免与后面的dp[i-1][0]比较</span></span><br><span class="line">		&#123;</span><br><span class="line">			dp[i][<span class="number">1</span>]=a[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) sum[i]=sum[i<span class="number">-1</span>]+a[i];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">500</span>&amp;&amp;j&lt;=i;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j]);</span><br><span class="line">				ll sumn=sum[i]-sum[i-j];</span><br><span class="line">				<span class="keyword">if</span>(sumn&lt;dp[i-j][j<span class="number">-1</span>])</span><br><span class="line">				&#123;</span><br><span class="line">					dp[i][j]=<span class="built_in">max</span>(dp[i][j],sumn);</span><br><span class="line">					res=<span class="built_in">max</span>(res,j);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="750-div2-F（dp）"><a href="#750-div2-F（dp）" class="headerlink" title="750-div2-F（dp）"></a>750-div2-F（dp）</h2><p>题意：给定一个序列a(0=&lt; a_i &lt;=500)，求所有严格上升子序列的异或值，并按升序输出。</p>
<ul>
<li>思路：由于序列中的值最大为500，那么异或值的范围也就在0 - 500之间，那么对于当前值来说，它也就只能和之前有过的异或值再次进行异或，且必须满足构成上升子序列，那么可以对所有异或值进行枚举，并记录关键信息，判断能否构成上升子序列。</li>
<li>有了上面的想法，那么就必须记录之前能够成的异或值所对应的上升子序列的最后一个值的最小值，比如：序列8 xor 13 = 3,1 xor 2 = 3,二者同样能够构成异或值3，为了使后续的值和之前的序列构成上升子序列，显然取之前上升序列的较小末尾值比较乐观。</li>
<li>状态：dp[i][j]表示前i个数中能够构造出异或值j的上升子序列的最小末尾值,通过滚动数组可以将dp压缩至以为，因为更新当前的状态后之前的信息以及没有用了。</li>
<li>转移：if(a[i]&gt;dp[j]) dp[j^a[i]]=min(dp[j^a[i]],a[i])<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1000</span>];</span><br><span class="line"><span class="keyword">int</span> a[N],n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">   <span class="built_in">memset</span>(dp,<span class="number">0x3f</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(dp));</span><br><span class="line">   dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">512</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]&gt;dp[j]) dp[a[i]^j]=<span class="built_in">min</span>(a[i],dp[a[i]^j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    set&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">512</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dp[i]!=INF) ans.<span class="built_in">insert</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> it:ans) cout&lt;&lt;it&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="EDU-117"><a href="#EDU-117" class="headerlink" title="EDU-117"></a>EDU-117</h1><h2 id="div12-C-二分"><a href="#div12-C-二分" class="headerlink" title="div12-C(二分)"></a>div12-C(二分)</h2>题意：给定一个k，x，共可发送2*k-1次信息，信息量分别为1、2、3、…、k、k-1、k-2、…、1，问在第几次发送的时候发送的信息总量超过了x。</li>
<li>思路：从左至右发送的信息总量呈单调递增的趋势，那么题目便成了问第一个大于等于x的位置。</li>
<li>注意：根据二分的位置mid处于不同的位置，发送的信息总量计算方式也会有所不同。当mid&lt;=k时，总量为(mid+1)* mid/2;当mid&gt;k时，总量res=(k+1)* k/2+(mid-k)*(k-1+k-(mid-k))/2。知道了这一点之后就是很简单的二分过程了。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> endl <span class="meta-string">&#x27;\n&#x27;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	ll k,x;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;k&gt;&gt;x;</span><br><span class="line">		ll res,ans=<span class="number">2</span>*k<span class="number">-1</span>;</span><br><span class="line">		ll tmp=(k+<span class="number">1</span>)*k/<span class="number">2</span>;</span><br><span class="line">		ll l=<span class="number">1</span>;</span><br><span class="line">		ll r=<span class="number">2</span>*k<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;=r)</span><br><span class="line">		&#123;</span><br><span class="line">			ll mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(mid&gt;k)</span><br><span class="line">			&#123;</span><br><span class="line">				ll y=mid-k;</span><br><span class="line">				res=tmp+y*(<span class="number">2</span>*k-y<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				res=mid*(mid+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(res&gt;=x)</span><br><span class="line">			&#123;</span><br><span class="line">				r=mid<span class="number">-1</span>;</span><br><span class="line">				ans=mid;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				l=mid+<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="div-2-D-数学-思维"><a href="#div-2-D-数学-思维" class="headerlink" title="div-2-D(数学+思维)"></a>div-2-D(数学+思维)</h2></li>
<li>题意：给定三个数a、b、x，可以对a、b进行下述操作：将a或b变为|a-b|，问是否可以通过若干次操作使得a或b中出现x。</li>
</ul>
<p>Solution:</p>
<ul>
<li><p>假设我们只对大数a进行操作，那么我们需要保证a&gt;b（通过swap交换）即可。每次可以对a进行减b操作，当a&lt;b时将a、b的值互换保证a&gt;b。</p>
</li>
<li><p>那么会面临三种情况，b&gt;x，那么一步一步将a减b减至刚好大于等于b的过程是没有必要的，我们可以进行一次性减法，总共需要减去b的次数为$cnt=max（1，（a-b）/b）$，如果算出来的次数为0那么也需要对a减去一个b，此时再对（a-cnt*b，b）进行考虑。</p>
</li>
<li><p>a&gt;x&gt;b,那么a此时不能再减至刚好大于等于b了，否则可能错过等于x的过程，那么此时应该减至刚好大于等于x，计算出操作次数$cnt=max（1，（a-x）/b）$,此时再对（a-cnt*b，b）进行考虑。</p>
</li>
<li><p>显然前两种情况可以进行同时考虑，即操作次数$cnt=max（1，（a-max（b，x）/b）$,此时再对（a-cnt*b，b）进行考虑即可。</p>
</li>
<li><p>x&gt;a&gt;b，无解输出NO。</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">sol</span><span class="params">(ll a,ll b,ll x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(a==x||b==x) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>((x&gt;a&amp;&amp;x&gt;b)||a==<span class="number">0</span>||b==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//a=0||b=0时a，b不会再改变了</span></span><br><span class="line">	<span class="keyword">if</span>(a&lt;b) <span class="built_in">swap</span>(a,b);</span><br><span class="line">	ll cnt=<span class="built_in">max</span>(<span class="number">1LL</span>,(a-<span class="built_in">max</span>(b,x))/b);<span class="comment">//计算无用的操作次数</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">sol</span>(a-cnt*b,b,x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);	</span><br><span class="line">	ll a,b,t,x;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;a&gt;&gt;b&gt;&gt;x;</span><br><span class="line">		<span class="keyword">int</span> res=<span class="built_in">sol</span>(a,b,x);</span><br><span class="line">		<span class="keyword">if</span>(res==<span class="number">1</span>) cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="div2-D-交互-思维"><a href="#div2-D-交互-思维" class="headerlink" title="div2-D(交互+思维)"></a>div2-D(交互+思维)</h2><p>题意：给定1 - n（4=&lt; n &lt;=1e9）的序列，选定三个数i j k使得[i - j-1]和[j - k]区间的数进行翻转（[1,2,3]变为[3,2,1]），现在你可以对任一区间询问逆序对数，问如何询问使得询问次数不超过40次便能求得i j k。</p>
<ul>
<li>思路：第一步求出区间[1 - n]上的逆序数A,其次，不难发现当固定右端点为n后区间[x - n]（1=&lt; x &lt;=n ）上的逆序数非严格单调递减，那么可以通过二分的方式求出逆序数第一个小于等于A的区间左端点i。</li>
<li>通过观察可知,设[i - n]逆序数为A，[i+1 - n]逆序数为B，那么有A-B=j-i，因为对于区间[i+1 - j-1]来说，其相较区间[i - j-1]来说少了元素i的逆序对贡献，由于翻转的关系，其可以与[i+1,j-1]上的元素构成逆序对，那么后者区间减少的逆序对数为j-(i+1)+1=j-i，A与B可以通过询问求得，而前面已经求出i，那么通过等式A-B=j-i可解得j。</li>
<li>同理：设[j - n]逆序数为C，[j+1 - n]逆序数为D,那么有C-D=k-j，亦可通过询问得知C、D，因此可求得k。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line">unordered_map&lt;ll,unordered_map&lt;ll,ll&gt; &gt; mp;<span class="comment">//实现二元组对一元组 mp[a][b]=c;</span></span><br><span class="line"><span class="function">ll <span class="title">cmb</span><span class="params">(ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n*(n<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">half</span><span class="params">(ll x,ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> res;</span><br><span class="line">	<span class="keyword">int</span> l=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span> r=n;</span><br><span class="line">	ll tmp;</span><br><span class="line">	<span class="keyword">while</span>(l&lt;=r)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;? &quot;</span>&lt;&lt;mid&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;n&lt;&lt;endl;</span><br><span class="line">		cin&gt;&gt;tmp;</span><br><span class="line">		<span class="keyword">if</span>(tmp&lt;x)</span><br><span class="line">		&#123;</span><br><span class="line">			r=mid<span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			l=mid+<span class="number">1</span>;</span><br><span class="line">			res=mid;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t,n,i,j,k;</span><br><span class="line">	ll A,B,C,D,E;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		mp.<span class="built_in">clear</span>();</span><br><span class="line">		cin&gt;&gt;n;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;? &quot;</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;n&lt;&lt;endl;<span class="comment">//首先询问[1 , n]区间</span></span><br><span class="line">		cin&gt;&gt;A;</span><br><span class="line">		i=<span class="built_in">half</span>(A,n);<span class="comment">//二分查找i</span></span><br><span class="line">		<span class="comment">// cout&lt;&lt;&quot;i:  &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;? &quot;</span>&lt;&lt;i+<span class="number">1</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;n&lt;&lt;endl;<span class="comment">//询问[i+1 , n]区间</span></span><br><span class="line">		cin&gt;&gt;B;</span><br><span class="line">		j=A-B+i+<span class="number">1</span>;</span><br><span class="line">		<span class="comment">// cout&lt;&lt;&quot;j: &quot;&lt;&lt;j&lt;&lt;&quot; &quot;&lt;&lt;endl;</span></span><br><span class="line">		D=A-<span class="built_in">cmb</span>(j-i);</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;? &quot;</span>&lt;&lt;j+<span class="number">1</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;n&lt;&lt;endl;<span class="comment">//询问[j+1 , n]区间</span></span><br><span class="line">		cin&gt;&gt;E;</span><br><span class="line">		k=D-E+j;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;!&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;j&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;k&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="EDU-116"><a href="#EDU-116" class="headerlink" title="EDU-116"></a>EDU-116</h1><h2 id="EDU-116-div2-E-dp-思维"><a href="#EDU-116-div2-E-dp-思维" class="headerlink" title="EDU-116-div2-E(dp+思维)"></a>EDU-116-div2-E(dp+思维)</h2>题意：有 n 个人，他们要进行下面的进程：每轮设存活 i 个人，那么每个人会减少 i−1 的血量，血量小于等于零就会被淘汰，现在需要你给他们每个人设置一个在 [1,x] 之间的初始血量，使得某轮游戏结束后，无人生还，求这样的方案数。</li>
<li>在这个题目中，初始状态就是n个具有初始血量的人，而我们需要得到的是最终场上没人的状态，那么可以考虑是否可以通过状态转移来得到最终状态的方案数。</li>
<li>状态：dp[i][j]定义为现在存活i个人并且受到伤害j（因为人数是和伤害挂钩的，i个人在某一回合会对其余某个人造成i-1点伤害，但是不能这一轮过后的存活人数，故可以对存活人数进行枚举，也就是状态转移，而存活人数为0的状态就是我们想要的状态）。</li>
<li>转移：dp[k][j+i-1]=(dp[k][j+i-1]+(dp[i][j] * cmb(i,i-k)%mod) * qsm(（j+i-1）-j,i-k)%mod)%mod，该状态由dp[i][j]进行状态转移，cmb(i , i-k)表示组合数从i个人中选（i-k）个人死亡，$qsm(（j+i-1）-j,i-k)即((j+i-1)-j)^{i-k}$表示这i-k个人血量的方案数。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">998244353</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line">ll C[<span class="number">510</span>][<span class="number">510</span>];</span><br><span class="line">ll p[<span class="number">510</span>];</span><br><span class="line">ll dp[<span class="number">510</span>][<span class="number">510</span>];</span><br><span class="line"><span class="function">ll <span class="title">qsm</span><span class="params">(ll a,ll k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  ll res=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span>(k)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span>(k&amp;<span class="number">1</span>) res=res*a%mod;</span><br><span class="line">    a=a*a%mod;</span><br><span class="line">    k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">cmb</span><span class="params">(ll n,ll k)</span><span class="comment">//组合数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res=((p[n]*<span class="built_in">qsm</span>(p[k],mod<span class="number">-2</span>)%mod)*<span class="built_in">qsm</span>(p[n-k],mod<span class="number">-2</span>))%mod;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span><span class="comment">//杨辉三角求组合数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	C[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">500</span>;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		C[i][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			C[i][j]=(C[i<span class="number">-1</span>][j]+C[i<span class="number">-1</span>][j<span class="number">-1</span>])%mod;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    ll n,x;</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    p[<span class="number">0</span>]=<span class="number">1</span>; </span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=<span class="number">500</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">      p[i]=p[i<span class="number">-1</span>]*i%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">    dp[n][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">2</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;x;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!dp[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">int</span> dam=<span class="built_in">min</span>(x,(ll)j+i<span class="number">-1</span>);<span class="comment">//i个人造成伤害i-1，累计伤害为j+i-1,而造成的伤害最多只有最大值x，限制上界方便统计结果</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=i;k&gt;=<span class="number">0</span>;k--)<span class="comment">//i个人中剩余k个人，从i个人中选i-k个人死亡，且这i-k的血量只能在(j,dam]之间，否则就不会死，故血量的方案为(dam-j)^(i-k)</span></span><br><span class="line">            &#123;</span><br><span class="line">              dp[k][dam]=(dp[k][dam]+(dp[i][j]*<span class="built_in">cmb</span>(i,i-k)%mod)*<span class="built_in">qsm</span>(dam-j,i-k)%mod)%mod;<span class="comment">//状态转移</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=x;i++)<span class="comment">//统计最终结果</span></span><br><span class="line">    &#123;</span><br><span class="line">      ans=(ans+dp[<span class="number">0</span>][i])%mod;</span><br><span class="line">      <span class="comment">//cout&lt;&lt;dp[0][i]&lt;&lt;&quot; &quot;;</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="EDU-111-div2-C"><a href="#EDU-111-div2-C" class="headerlink" title="EDU-111-div2-C"></a>EDU-111-div2-C</h2><p>题意:给定一个数组，如果一个子区间数组能找出一个三元组p($a_i$,i)、q($a_j$,j)、r($a_k$,k)（i,j,k为数组元素下标），满足d ( p , r ) = d ( p , q ) + d ( q , r )（d为曼哈顿距离），那么这个就是坏数组，求是好数组的子区间数组个数。</p>
<ul>
<li>思路：容易想到如果一个区间中有三个元素的值构成非严格单调递减或者非严格单调递增，那么该子区间数组为坏数组。</li>
<li>结论：对于长度超过4的子区间数组，一定存在三个元素构成非严格单调递减或者非严格单调递增序列，因此长度超过5的子区间数组都是坏数组，不需要考虑，因此只需要枚举长度为3、4的子区间数组进行判断即可。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line">unordered_map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mp;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t,n;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">1</span>) &#123;cout&lt;&lt;<span class="number">1</span>&lt;&lt;endl;<span class="keyword">continue</span>;&#125;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">2</span>) &#123;cout&lt;&lt;<span class="number">3</span>&lt;&lt;endl;<span class="keyword">continue</span>;&#125;</span><br><span class="line">		<span class="keyword">int</span> ans=<span class="number">2</span>*n<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">int</span> l=<span class="number">1</span>,r=<span class="number">3</span>;</span><br><span class="line">		<span class="keyword">int</span> cnt1=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> cnt2=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(r&lt;=n)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> x=a[l];</span><br><span class="line">			<span class="keyword">int</span> y=a[l+<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">int</span> z=a[l+<span class="number">2</span>];</span><br><span class="line">			<span class="keyword">if</span>((x&lt;=y&amp;&amp;y&lt;=z)||(x&gt;=y&amp;&amp;y&gt;=z)) cnt1++;</span><br><span class="line">			l++;</span><br><span class="line">			r++;</span><br><span class="line">		&#125;</span><br><span class="line">		ans+=(n<span class="number">-2</span>-cnt1);</span><br><span class="line">		<span class="comment">//cout&lt;&lt;ans&lt;&lt;endl;</span></span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">3</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			l=<span class="number">1</span>;</span><br><span class="line">			r=<span class="number">4</span>;</span><br><span class="line">			<span class="keyword">while</span>(r&lt;=n)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">int</span> x=a[l];</span><br><span class="line">				<span class="keyword">int</span> y=a[l+<span class="number">1</span>];</span><br><span class="line">				<span class="keyword">int</span> z=a[l+<span class="number">2</span>];</span><br><span class="line">				<span class="keyword">int</span> k=a[l+<span class="number">3</span>];</span><br><span class="line">				<span class="comment">//cout&lt;&lt;&quot;x: &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;&quot; &quot;&lt;&lt;z&lt;&lt;&quot; &quot;&lt;&lt;k&lt;&lt;endl; </span></span><br><span class="line">				<span class="keyword">if</span>((x&lt;=y&amp;&amp;y&lt;=z)||(x&gt;=y&amp;&amp;y&gt;=z)||(x&lt;=z&amp;&amp;z&lt;=k)||(x&gt;=z&amp;&amp;z&gt;=k)||(y&lt;=z&amp;&amp;z&lt;=k)||(y&gt;=z&amp;&amp;z&gt;=k)||(x&lt;=y&amp;&amp;y&lt;=k)||(x&gt;=y&amp;&amp;y&gt;=k)) cnt2++;</span><br><span class="line">				l++;</span><br><span class="line">				r++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//cout&lt;&lt;&quot;cnt2&quot;&lt;&lt;&quot; &quot;&lt;&lt;cnt2&lt;&lt;endl;</span></span><br><span class="line">			ans+=(n<span class="number">-3</span>-cnt2);</span><br><span class="line">			cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="CF-1598-D-思维"><a href="#CF-1598-D-思维" class="headerlink" title="CF-1598-D(思维)"></a>CF-1598-D(思维)</h2><p>题意：现在有n个物品，每个物品有两个值$a_i$、$b_i$，现在问从n个物品中选3个物品，要保证这三个物品的$a_i$值个不相同或$b_i$值各不相同，问方案数共有多少种？</p>
<p>Solution</p>
<ul>
<li>直接从正面考虑符合条件的方案数那么需要考虑的情况很多，那么可以考虑从总方案数中减去不符合情况的便是符合条件的。</li>
<li>总方案数：C(n,3)，不符合条件的就是选出的三个数中a值同时有两个相同，b值有两个相同。那么只需要对于每个物体根据a值选出一个相同的物品，根据b值选一个相同的物品，由于题目保证了不会有相同的物品（即a、b值相同），那么一定能够选出3种物品，而且不会重复。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">4e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug(x) cout&lt;&lt;#x&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line">ll a[MAXN],b[MAXN];</span><br><span class="line">unordered_map&lt;ll,ll&gt; cnta,cntb;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	ll t,n;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cnta.<span class="built_in">clear</span>();</span><br><span class="line">		cntb.<span class="built_in">clear</span>();</span><br><span class="line">		cin&gt;&gt;n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) </span><br><span class="line">		&#123;</span><br><span class="line">	 		cin&gt;&gt;a[i]&gt;&gt;b[i];</span><br><span class="line">			cnta[a[i]]++;</span><br><span class="line">			cntb[b[i]]++;</span><br><span class="line">		&#125;</span><br><span class="line">		ll ans=(n)*(n<span class="number">-1</span>)*(n<span class="number">-2</span>)/<span class="number">6</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			ans-=((cnta[a[i]]<span class="number">-1</span>)*(cntb[b[i]]<span class="number">-1</span>));<span class="comment">//减去不符合条件的方案数，不会重复</span></span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Edu-123-div2"><a href="#Edu-123-div2" class="headerlink" title="Edu-123(div2)"></a>Edu-123(div2)</h2><h3 id="C-Increase-Subarray-Sums"><a href="#C-Increase-Subarray-Sums" class="headerlink" title="C. Increase Subarray Sums"></a>C. Increase Subarray Sums</h3><ul>
<li>题目来源：<a target="_blank" rel="noopener" href="https://codeforces.com/contest/1644/problem/C">EDU - 123</a></li>
<li>题意：给定一个长度为n的整数数组a和一个数x，求当在数组a上加上k（k: 0 - n）个数时最长字段和.</li>
<li>思路；首先考虑一般做法：求出所有n ^ 2个字段和，在这n ^ 2个字符和上进行对应的加k个数的操作然后取最大值。仔细观察便会发现对于一个长度为l的区间，当k&lt;=l时，其区间和会增加k * x，当k&gt;l时其区间和会增加l * x;那么也就是说对于相同长度的字段区间，对于同一个k其能增加的值是一样的，因此我们只需要考虑相同长度子段中的最大子段，用ans[i]表示长度为i时的最大子段和。接下来只需要枚举k从0 - n然后对于不同长度的区间加上对应的值然后取最大值输出即可.<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> ll INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line">ll pre[N],a[N],ans[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	ll t,x,n;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">		<span class="built_in">partial_sum</span>(a+<span class="number">1</span>,a+n+<span class="number">1</span>,pre+<span class="number">1</span>);</span><br><span class="line">		ans[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">		pre[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) ans[i]=-INF;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=n;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				ans[j-i+<span class="number">1</span>]=<span class="built_in">max</span>(ans[j-i+<span class="number">1</span>],pre[j]-pre[i<span class="number">-1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;*<span class="built_in">max_element</span>(ans,ans+n+<span class="number">1</span>)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(j&gt;=i) ans[j]+=x;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i==n) cout&lt;&lt;*<span class="built_in">max_element</span>(ans,ans+n+<span class="number">1</span>)&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">else</span> cout&lt;&lt;*<span class="built_in">max_element</span>(ans,ans+n+<span class="number">1</span>)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="772-div2"><a href="#772-div2" class="headerlink" title="772-div2"></a>772-div2</h2><h3 id="D-Infinite-Set"><a href="#D-Infinite-Set" class="headerlink" title="D. Infinite Set"></a>D. Infinite Set</h3><ul>
<li>题意：给定一个有n正整数的集合，你可以对集合中的任一元素进行吐下操作：<br>y = x<em>2 +1<br>y = x</em>4<br>并且将y加入集合中，问其中会有多少个数小于2^p( 1≤ n,p ≤2e5) </li>
<li>思路：由于p的范围很大，不能用一般的类型来存储2^p，于是可以想到用二进制来表示，而且其中对x的操作其实也就是二进制移位操作（左移移位加1 或左移两位），考虑划定的范围需要小于2^p（也就是最小的P+1位二进制数），那么只要集合中的位数小于等于p那么也就是符合条件的，对位数进行分析的话，那么上述的操作无非就是让x的位数 加1 或 加2。</li>
<li>于是可以想到用dp[i]表示位数为i的数的个数，状态转移方程为：<pre><code>  if(i-1&gt;=0) dp[i]=(dp[i]+dp[i-1])%mod;
  if(i-2&gt;=0) dp[i]=(dp[i-2]+dp[i])%mod;
</code></pre>
</li>
<li>注意：需要对初始状态集中的元素进行去重，否则部分结果会重复计算，比如：集合为{2,5}，5可以由2转变而来，集合中会出现2个5，他们能够产生的新的元素是一样的，因此会导致重复计算；那么只需要将集合中的元素从小到大排序后暴力往下搜索看已经去重的集合中是否出现（比如：2往下搜索发现2不会重复，5往下搜索2是否出现），将不会重复出现的数放入去重的集合。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">2e5</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line">ll a[N];</span><br><span class="line">ll dp[N];</span><br><span class="line">ll mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> n,p;</span><br><span class="line">unordered_map&lt;ll,<span class="keyword">bool</span>&gt; v;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Unique</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(__lg(a[i])+<span class="number">1</span>&gt;p) <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">		ll x=a[i];</span><br><span class="line">		<span class="keyword">while</span>(x)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(v.<span class="built_in">find</span>(x)!=v.<span class="built_in">end</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				flag=<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(x&amp;<span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				x&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(x&amp;<span class="number">2</span>) <span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">else</span> x&gt;&gt;=<span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!flag) &#123;v[a[i]]=<span class="number">1</span>;&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// int n,p;</span></span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;p;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+n+<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">Unique</span>();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> it:v)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// cout&lt;&lt;&quot;it:  &quot;&lt;&lt;it&lt;&lt;&quot;  &quot; &lt;&lt;&quot;num:  &quot;&lt;&lt;__lg(it)+1&lt;&lt;endl;</span></span><br><span class="line">		dp[__lg(it.first)+<span class="number">1</span>]++;</span><br><span class="line">	&#125;</span><br><span class="line">	dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">	<span class="comment">// for(int i=1;i&lt;=p;i++) cout&lt;&lt;dp[i]&lt;&lt;endl;</span></span><br><span class="line">	ll ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=p;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(i<span class="number">-1</span>&gt;=<span class="number">0</span>) dp[i]=(dp[i]+dp[i<span class="number">-1</span>])%mod;</span><br><span class="line">		<span class="keyword">if</span>(i<span class="number">-2</span>&gt;=<span class="number">0</span>) dp[i]=(dp[i<span class="number">-2</span>]+dp[i])%mod;</span><br><span class="line">		ans=(ans+dp[i])%mod;</span><br><span class="line">		<span class="comment">// cout&lt;&lt;dp[i]&lt;&lt;endl;</span></span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/thinking/" rel="tag"># thinking</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/11/06/%E6%9C%80%E5%B0%8F%E5%BC%82%E6%88%96%E7%94%9F%E6%88%90%E6%A0%91/" rel="prev" title="约数">
                  <i class="fa fa-chevron-left"></i> 约数
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/11/24/Math/" rel="next" title="Math">
                  Math <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Monesy</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">168k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">5:06</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>



    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>




  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: '32px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(i){i.imageLazyLoadSetting.processImages=a;var n=i.imageLazyLoadSetting.isSPA,o=i.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function a(){n&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,e,a=0;a<r.length;a++)t=r[a],e=void 0,0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(i.innerHeight*o||document.documentElement.clientHeight*o)&&function(){var t,e,i,n,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},i=new Image,n=t.getAttribute("data-original"),i.onload=function(){t.src=n,e&&e()},t.src!==n&&(i.src=n)}()}a(),i.addEventListener("scroll",function(){var t,e;t=a,e=i,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>
